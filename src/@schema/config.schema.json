{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "definitions": {
    "AWSCredentials": {
      "additionalProperties": false,
      "properties": {
        "user_key": {
          "type": "string"
        },
        "user_secret": {
          "type": "string"
        }
      },
      "required": [
        "user_key",
        "user_secret"
      ],
      "type": "object"
    },
    "AWSHosting": {
      "additionalProperties": false,
      "properties": {
        "cloudfront_distribution_id": {
          "type": "string"
        },
        "s3_bucket": {
          "type": "string"
        }
      },
      "required": [
        "s3_bucket",
        "cloudfront_distribution_id"
      ],
      "type": "object"
    },
    "ConfigCommon": {
      "additionalProperties": false,
      "properties": {
        "client": {
          "description": "Who's the client that this demo will be sent to?",
          "type": "string"
        },
        "dist_folder": {
          "description": "Where do the built files live?",
          "type": "string"
        },
        "project": {
          "description": "The codename of the project. (usually the same as the git repos) Avoid using names that are too specific, as they tend to change a lot.",
          "type": "string"
        },
        "public": {
          "description": "Whether or not this demo will require a password.",
          "type": "boolean"
        }
      },
      "required": [
        "client",
        "project",
        "dist_folder",
        "public"
      ],
      "type": "object"
    },
    "ConfigPrivate": {
      "additionalProperties": false,
      "description": "The configs for a private demo that requires username and password for authentication.",
      "properties": {
        "client": {
          "description": "Who's the client that this demo will be sent to?",
          "type": "string"
        },
        "dist_folder": {
          "description": "Where do the built files live?",
          "type": "string"
        },
        "password": {
          "type": "string"
        },
        "project": {
          "description": "The codename of the project. (usually the same as the git repos) Avoid using names that are too specific, as they tend to change a lot.",
          "type": "string"
        },
        "public": {
          "const": false,
          "description": "Whether or not this demo will require a password.",
          "type": "boolean"
        },
        "username": {
          "type": "string"
        }
      },
      "required": [
        "client",
        "dist_folder",
        "password",
        "project",
        "public",
        "username"
      ],
      "type": "object"
    },
    "ConfigPublic": {
      "additionalProperties": false,
      "description": "The configs for a public demo.",
      "properties": {
        "client": {
          "description": "Who's the client that this demo will be sent to?",
          "type": "string"
        },
        "dist_folder": {
          "description": "Where do the built files live?",
          "type": "string"
        },
        "project": {
          "description": "The codename of the project. (usually the same as the git repos) Avoid using names that are too specific, as they tend to change a lot.",
          "type": "string"
        },
        "public": {
          "const": true,
          "description": "Whether or not this demo will require a password.",
          "type": "boolean"
        }
      },
      "required": [
        "client",
        "dist_folder",
        "project",
        "public"
      ],
      "type": "object"
    },
    "GlobalConfig": {
      "additionalProperties": false,
      "description": "Global configurations that should be defined on `~/.necrorc.yaml`.",
      "properties": {
        "default_profile": {
          "type": "string"
        },
        "profiles": {
          "items": {
            "$ref": "#/definitions/Profile"
          },
          "type": "array"
        }
      },
      "type": "object"
    },
    "NecroConfig": {
      "anyOf": [
        {
          "additionalProperties": false,
          "properties": {
            "client": {
              "description": "Who's the client that this demo will be sent to?",
              "type": "string"
            },
            "credentials": {
              "$ref": "#/definitions/AWSCredentials"
            },
            "default_profile": {
              "type": "string"
            },
            "dist_folder": {
              "description": "Where do the built files live?",
              "type": "string"
            },
            "hosting": {
              "$ref": "#/definitions/AWSHosting"
            },
            "password": {
              "type": "string"
            },
            "profiles": {
              "items": {
                "$ref": "#/definitions/Profile"
              },
              "type": "array"
            },
            "project": {
              "description": "The codename of the project. (usually the same as the git repos) Avoid using names that are too specific, as they tend to change a lot.",
              "type": "string"
            },
            "public": {
              "const": false,
              "description": "Whether or not this demo will require a password.",
              "type": "boolean"
            },
            "username": {
              "type": "string"
            }
          },
          "required": [
            "client",
            "dist_folder",
            "password",
            "project",
            "public",
            "username"
          ],
          "type": "object"
        },
        {
          "additionalProperties": false,
          "properties": {
            "client": {
              "description": "Who's the client that this demo will be sent to?",
              "type": "string"
            },
            "credentials": {
              "$ref": "#/definitions/AWSCredentials"
            },
            "default_profile": {
              "type": "string"
            },
            "dist_folder": {
              "description": "Where do the built files live?",
              "type": "string"
            },
            "hosting": {
              "$ref": "#/definitions/AWSHosting"
            },
            "profiles": {
              "items": {
                "$ref": "#/definitions/Profile"
              },
              "type": "array"
            },
            "project": {
              "description": "The codename of the project. (usually the same as the git repos) Avoid using names that are too specific, as they tend to change a lot.",
              "type": "string"
            },
            "public": {
              "const": true,
              "description": "Whether or not this demo will require a password.",
              "type": "boolean"
            }
          },
          "required": [
            "client",
            "dist_folder",
            "project",
            "public"
          ],
          "type": "object"
        }
      ]
    },
    "Profile": {
      "additionalProperties": false,
      "properties": {
        "credentials": {
          "$ref": "#/definitions/AWSCredentials"
        },
        "hosting": {
          "$ref": "#/definitions/AWSHosting"
        },
        "name": {
          "type": "string"
        }
      },
      "required": [
        "name",
        "hosting"
      ],
      "type": "object"
    },
    "ProjectConfig": {
      "anyOf": [
        {
          "additionalProperties": false,
          "properties": {
            "client": {
              "description": "Who's the client that this demo will be sent to?",
              "type": "string"
            },
            "credentials": {
              "$ref": "#/definitions/AWSCredentials"
            },
            "dist_folder": {
              "description": "Where do the built files live?",
              "type": "string"
            },
            "hosting": {
              "$ref": "#/definitions/AWSHosting"
            },
            "password": {
              "type": "string"
            },
            "project": {
              "description": "The codename of the project. (usually the same as the git repos) Avoid using names that are too specific, as they tend to change a lot.",
              "type": "string"
            },
            "public": {
              "const": false,
              "description": "Whether or not this demo will require a password.",
              "type": "boolean"
            },
            "username": {
              "type": "string"
            }
          },
          "required": [
            "client",
            "dist_folder",
            "password",
            "project",
            "public",
            "username"
          ],
          "type": "object"
        },
        {
          "additionalProperties": false,
          "properties": {
            "client": {
              "description": "Who's the client that this demo will be sent to?",
              "type": "string"
            },
            "credentials": {
              "$ref": "#/definitions/AWSCredentials"
            },
            "dist_folder": {
              "description": "Where do the built files live?",
              "type": "string"
            },
            "hosting": {
              "$ref": "#/definitions/AWSHosting"
            },
            "project": {
              "description": "The codename of the project. (usually the same as the git repos) Avoid using names that are too specific, as they tend to change a lot.",
              "type": "string"
            },
            "public": {
              "const": true,
              "description": "Whether or not this demo will require a password.",
              "type": "boolean"
            }
          },
          "required": [
            "client",
            "dist_folder",
            "project",
            "public"
          ],
          "type": "object"
        }
      ],
      "description": "Project configutations that should be defined on `.necro`, at the root of the project."
    }
  }
}